{% extends 'base.html' %}

{% block page_title %}
    Detalle de Tarea
{% endblock %}

{% block content %}
<div class="container-fluid px-4">
    <div class="d-flex justify-content-between align-items-center pt-3 pb-2 mb-3 border-bottom">
        <h1 class="h2 mb-0">
            <i class="bi bi-card-checklist me-2"></i>Detalle de Tarea
        </h1>
        <a href="{% url 'notifications:task_list' %}" class="btn btn-light btn-sm">
            <i class="bi bi-arrow-left-circle me-1"></i> Volver al listado
        </a>
    </div>

    <div class="card shadow-sm">
        <div class="card-body">
            <h5 class="card-title">{{ task.title }}</h5>
            <p class="card-text">{{ task.description }}</p>
            <ul class="list-group list-group-flush">
                <li class="list-group-item"><strong>Prioridad:</strong> {{ task.get_priority_display }}</li>
                <li class="list-group-item"><strong>Estado:</strong> {{ task.get_status_display }}</li>
                <li class="list-group-item"><strong>Fecha de Vencimiento:</strong> {{ task.due_date|date:"d/m/Y H:i" }}</li>
                <li class="list-group-item"><strong>Agente:</strong> {{ task.agent }}</li>
                {% if task.property %}
                    <li class="list-group-item"><strong>Propiedad:</strong> <a href="{% url 'properties:property_detail' task.property.pk %}">{{ task.property }}</a></li>
                {% endif %}
                {% if task.customer %}
                    <li class="list-group-item"><strong>Cliente:</strong> <a href="{% url 'customers:customer_detail' task.customer.pk %}">{{ task.customer }}</a></li>
                {% endif %}
                {% if task.contract %}
                    <li class="list-group-item"><strong>Contrato:</strong> <a href="{% url 'contracts:contract_detail' task.contract.pk %}">{{ task.contract }}</a></li>
                {% endif %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}
