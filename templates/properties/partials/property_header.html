{% load static %}

<!-- Modern Page Header -->
<div class="page-header mb-4">
    <div class="row align-items-center">
        <div class="col-lg-8">
            <div>
                <h1 class="h2 mb-2 text-white fw-bold">
                    <i class="bi bi-house-door me-2"></i>{{ property.title }}
                </h1>
                <div class="mb-2 opacity-90">
                    <i class="bi bi-geo-alt me-1"></i>
                    <span>{{ property.address|default:"Dirección no especificada" }}</span>
                </div>
                <div class="d-flex gap-2 flex-wrap">
                    <span class="badge bg-light text-dark">
                        <i class="bi bi-house me-1"></i>{{ property.property_type.name }}
                    </span>
                    <span class="badge {% if property.property_status.name == 'Disponible' %}bg-success{% elif property.property_status.name == 'Vendida' %}bg-danger{% elif property.property_status.name == 'Alquilada' %}bg-info{% elif property.property_status.name == 'En Proceso' %}bg-warning{% else %}bg-secondary{% endif %}">
                        <i class="bi bi-flag me-1"></i>{{ property.property_status.name }}
                    </span>
                    {% comment %}
                    {% if property.featured %}
                    <span class="badge bg-warning text-dark">
                        <i class="bi bi-star-fill me-1"></i>Destacada
                    </span>
                    {% endif %}
                    {% endcomment %}
                    <span class="badge bg-info">
                        <i class="bi bi-calendar me-1"></i>{{ property.created_at|date:"M Y" }}
                    </span>
                </div>
            </div>
        </div>
        <div class="col-lg-4">
            <div class="d-flex gap-2 justify-content-lg-end flex-wrap">
                <a href="{% url 'properties:property_edit' property.pk %}" class="btn-modern btn-warning">
                    <i class="bi bi-pencil me-1"></i>Editar
                </a>
                <div class="dropdown">
                    <button class="btn-modern btn-outline-light dropdown-toggle" type="button" data-bs-toggle="dropdown">
                        <i class="bi bi-three-dots me-1"></i>Más
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="{% url 'properties:add_image' property.pk %}">
                            <i class="bi bi-image me-2"></i>Agregar Imagen
                        </a></li>
                        <li><a class="dropdown-item" href="{% url 'contracts:contract_create' %}?property={{ property.id }}">
                            <i class="bi bi-file-earmark-text me-2"></i>Nuevo Contrato
                        </a></li>
                        <li><hr class="dropdown-divider"></li>
                        <li><a class="dropdown-item text-danger" href="{% url 'properties:property_delete' property.pk %}">
                            <i class="bi bi-trash me-2"></i>Eliminar
                        </a></li>
                    </ul>
                </div>
                <a href="{% url 'properties:property_list' %}" class="btn-modern btn-outline-light">
                    <i class="bi bi-arrow-left me-1"></i>Volver
                </a>
            </div>
        </div>
    </div>
</div>